# Gas Town Operator Helm Values
# ==============================================================================
# Default values for gastown-operator.
# Override with --set or -f values-override.yaml for specific environments.
# ==============================================================================

replicaCount: 1

image:
  repository: ghcr.io/boshu2/gastown-operator
  pullPolicy: IfNotPresent
  tag: ""  # Defaults to Chart.appVersion if empty

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# Gas Town configuration
gtConfig:
  # Path to Gas Town root directory (mounted from host)
  townRoot: /gt
  # Path to gt binary inside the container (baked into image)
  gtBinary: /usr/local/bin/gt

# Volume configuration for accessing host filesystem
# NOTE: hostPath limits deployment to single-node clusters where the path exists
volumes:
  enabled: true
  # Override for specific environment:
  # - Dev (Mac): /Users/fullerbt/gt
  # - OpenShift node: /home/core/gt or path where gt town is available
  hostPath: /home/core/gt

serviceAccount:
  create: true
  annotations: {}
  name: ""

rbac:
  create: true

podAnnotations: {}
podLabels: {}

podSecurityContext: {}

securityContext:
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: false
  runAsNonRoot: false
  runAsUser: 0  # Need root to access host paths

resources:
  limits:
    cpu: 500m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

nodeSelector: {}

tolerations: []

affinity: {}

# Metrics configuration
metrics:
  enabled: true
  port: 8443
  secure: true

# Health probes
probes:
  healthPort: 8081

# Leader election (for HA)
leaderElection:
  enabled: true
